# ğŸ‰ Expo SDK 53 å‡çº§å®Œæˆæ€»ç»“

## ğŸ“‹ å‡çº§æ¦‚è¿°

æˆåŠŸå‚è€ƒ **nestjs-monorepo** æ¨¡æ¿ï¼Œå°†é¡¹ç›®ä» **Expo SDK 51** å‡çº§åˆ° **Expo SDK 53**ï¼Œè§£å†³äº†ä¸ Expo Go çš„ç‰ˆæœ¬å…¼å®¹æ€§é—®é¢˜ã€‚

## ğŸ”„ ä¸»è¦ç‰ˆæœ¬æ›´æ–°

### **æ ¸å¿ƒæ¡†æ¶å‡çº§**
- **Expo SDK**: `~51.0.0` â†’ `~53.0.0` âœ…
- **React**: `18.2.0` â†’ `19.0.0` âœ…
- **React Native**: `0.74.5` â†’ `0.79.5` âœ…
- **React Native Web**: `~0.19.12` â†’ `~0.20.0` âœ…

### **Expo æ¨¡å—å‡çº§**
- **expo-constants**: `~17.0.0` â†’ `~17.1.7` âœ…
- **expo-linking**: `~7.0.0` â†’ `~7.1.7` âœ…
- **expo-router**: `~4.0.0` â†’ `~5.1.4` âœ…
- **expo-status-bar**: `~2.0.0` â†’ `~2.2.3` âœ…
- **expo-system-ui**: æ–°å¢ `~5.0.10` âœ…

### **React Navigation å‡çº§**
- **@react-navigation/bottom-tabs**: `^6.5.0` â†’ `^7.3.10` âœ…
- **@react-navigation/native**: `^6.1.0` â†’ `^7.1.6` âœ…  
- **@react-navigation/native-stack**: `^6.9.0` â†’ `^7.3.10` âœ…

### **å…¶ä»–ç»„ä»¶å‡çº§**
- **react-native-safe-area-context**: `4.12.0` â†’ `5.4.0` âœ…
- **react-native-screens**: `4.0.0` â†’ `~4.11.1` âœ…
- **react-native-gesture-handler**: `~2.22.0` â†’ `~2.24.0` âœ…
- **react-native-reanimated**: `~3.16.0` â†’ `~3.17.4` âœ…
- **expo-splash-screen**: `~0.29.0` â†’ `~0.30.10` âœ…

### **å¼€å‘å·¥å…·å‡çº§**
- **@babel/core**: `^7.20.0` â†’ `^7.25.0` âœ…
- **@types/react**: `~18.2.45` â†’ `~19.0.0` âœ…
- **@types/react-dom**: `~18.2.19` â†’ `~19.0.0` âœ…
- **TypeScript**: `~5.3.0` â†’ `~5.8.3` âœ…
- **eslint-config-expo**: `^7.0.0` â†’ `~9.2.0` âœ…

## âœ¨ SDK 53 æ–°åŠŸèƒ½ç‰¹æ€§

### **ğŸ§± æ–°æ¶æ„é»˜è®¤å¯ç”¨**
```json
{
  "expo": {
    "newArchEnabled": true
  }
}
```

### **âš¡ React 19 åŠŸèƒ½**
- Suspense æ”¯æŒåŠ è½½çŠ¶æ€
- æ–°çš„ `use` hook æ”¯æŒä¸Šä¸‹æ–‡å’Œ promises
- æ”¹è¿›çš„é”™è¯¯å¤„ç†æœºåˆ¶
- è‡ªåŠ¨æ‰¹å¤„ç†çŠ¶æ€æ›´æ–°

### **ğŸ“± ç°ä»£åŒ–é…ç½®**
- æ›´æ–°çš„ `expo-router` æ’ä»¶é…ç½®
- æ”¹è¿›çš„æ›´æ–°æœºåˆ¶ (`fallbackToCacheTimeout`)
- ä¼˜åŒ–çš„å¯åŠ¨è„šæœ¬

## ğŸ“ é…ç½®æ–‡ä»¶æ›´æ–°

### **apps/native/package.json** ä¸»è¦æ›´æ–°
```json
{
  "main": "index.js",
  "private": true,
  "scripts": {
    "dev": "expo start",
    "start": "expo start"
  },
  "dependencies": {
    "expo": "~53.0.0",
    "react": "19.0.0",
    "react-native": "0.79.5",
    "axios": "^1.6.0"
  }
}
```

### **apps/native/app.json** é…ç½®ä¼˜åŒ–
```json
{
  "expo": {
    "newArchEnabled": true,
    "updates": {
      "fallbackToCacheTimeout": 0
    },
    "plugins": ["expo-router"]
  }
}
```

### **æ ¹ç›®å½• package.json** Resolutions
```json
{
  "resolutions": {
    "react": "19.0.0",
    "react-dom": "19.0.0",
    "@types/react": "~19.0.0",
    "@types/react-dom": "~19.0.0"
  }
}
```

## ğŸ”§ è§£å†³çš„é—®é¢˜

### **ç‰ˆæœ¬å…¼å®¹æ€§é—®é¢˜**
- âœ… è§£å†³äº† Expo Go SDK 53 å…¼å®¹æ€§é—®é¢˜
- âœ… ä¿®å¤äº† React ç‰ˆæœ¬å†²çª
- âœ… ç»Ÿä¸€äº†æ‰€æœ‰ä¾èµ–ç‰ˆæœ¬

### **é…ç½®é—®é¢˜ä¿®å¤**
- âœ… ç§»é™¤äº†æ— æ•ˆçš„ `android.theme` é…ç½®
- âœ… ä¿®æ­£äº† `android.package` å‘½åè§„èŒƒ
- âœ… ä¼˜åŒ–äº†å¯åŠ¨è„šæœ¬é…ç½®

### **ä¾èµ–ç®¡ç†ä¼˜åŒ–**
- âœ… ä½¿ç”¨ `expo install --fix` è‡ªåŠ¨ä¿®å¤ç‰ˆæœ¬
- âœ… æ¸…ç†äº†æ‰€æœ‰ node_modules é‡æ–°å®‰è£…
- âœ… ç»Ÿä¸€ä½¿ç”¨ Yarn åŒ…ç®¡ç†å™¨

## ğŸ§ª éªŒè¯ç»“æœ

### **Expo Doctor æ£€æŸ¥**
```bash
âœ… 13/15 æ£€æŸ¥é€šè¿‡
âš ï¸ 2 é¡¹éå…³é”®é—®é¢˜ï¼ˆå¯å¿½ç•¥ï¼‰
```

### **å…³é”®ç‰ˆæœ¬ç¡®è®¤**
```bash
âœ… expo@53.0.0 - ä¸»ç‰ˆæœ¬æ­£ç¡®
âœ… react@19.0.0 - React 19 å·²å¯ç”¨  
âœ… react-native@0.79.5 - æœ€æ–° RN ç‰ˆæœ¬
âœ… newArchEnabled: true - æ–°æ¶æ„å·²å¯ç”¨
```

### **ä¾èµ–å®Œæ•´æ€§**
```bash
âœ… yarn install - æ— é”™è¯¯å®‰è£…
âœ… expo install --fix - ç‰ˆæœ¬åŒæ­¥å®Œæˆ
âœ… åŒ…ç»“æ„å®Œæ•´æ€§æ£€æŸ¥é€šè¿‡
```

## ğŸš€ å‚è€ƒæ¨¡æ¿é…ç½®

åŸºäº **nestjs-monorepo** æ¨¡æ¿çš„æœ€ä½³å®è·µï¼š

### **æ¨¡æ¿ä¾èµ–ç‰ˆæœ¬å¯¹ç…§**
| åŒ…å | æ¨¡æ¿ç‰ˆæœ¬ | å½“å‰ç‰ˆæœ¬ | çŠ¶æ€ |
|------|----------|----------|------|
| expo | ~53.0.0 | ~53.0.0 | âœ… |
| react | 19.0.0 | 19.0.0 | âœ… |
| react-native | 0.79.5 | 0.79.5 | âœ… |
| expo-router | ~5.1.4 | ~5.1.4 | âœ… |

### **æ¨¡æ¿é…ç½®ç‰¹æ€§**
- âœ… æ–°æ¶æ„é»˜è®¤å¯ç”¨
- âœ… ç°ä»£åŒ–è„šæœ¬é…ç½®
- âœ… ä¼˜åŒ–çš„æ’ä»¶é…ç½®
- âœ… ç»Ÿä¸€çš„ç‰ˆæœ¬ç®¡ç†

## âš ï¸ æ³¨æ„äº‹é¡¹

### **æ–°æ¶æ„å…¼å®¹æ€§**
- å¤§éƒ¨åˆ†ç¬¬ä¸‰æ–¹åº“å·²å…¼å®¹æ–°æ¶æ„
- å¦‚æœ‰é—®é¢˜å¯ä¸´æ—¶é€šè¿‡ `"newArchEnabled": false` ç¦ç”¨

### **React 19 è¿ç§»**
- æŸäº› React 18 ç‰¹æœ‰çš„ API å¯èƒ½éœ€è¦æ›´æ–°
- å»ºè®®å…¨é¢æµ‹è¯•åº”ç”¨åŠŸèƒ½

### **å‰©ä½™é—®é¢˜ï¼ˆéå…³é”®ï¼‰**
- `@expo/config-plugins` ç‰ˆæœ¬è­¦å‘Šï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
- `@babel/runtime` å…ƒæ•°æ®ç¼ºå¤±ï¼ˆå¯å¿½ç•¥ï¼‰

## ğŸ¯ åç»­å»ºè®®

1. **åŠŸèƒ½æµ‹è¯•**: å…¨é¢æµ‹è¯•æ‰€æœ‰åº”ç”¨åŠŸèƒ½
2. **APIé›†æˆ**: ç¡®ä¿ä¸NestJSåç«¯çš„é›†æˆæ­£å¸¸
3. **ä¾èµ–ç»´æŠ¤**: å®šæœŸè¿è¡Œ `expo install --fix`
4. **æ€§èƒ½ç›‘æ§**: å…³æ³¨æ–°æ¶æ„çš„æ€§èƒ½è¡¨ç°

## ğŸ“Š é¡¹ç›®çŠ¶æ€

```
ğŸ‰ Expo SDK 53 å‡çº§æˆåŠŸå®Œæˆ
âœ… ä¸ Expo Go ç‰ˆæœ¬å…¼å®¹
âœ… React 19 åŠŸèƒ½å¯ç”¨
âœ… æ–°æ¶æ„å·²å¯ç”¨
âœ… æ‰€æœ‰æ ¸å¿ƒä¾èµ–å·²æ›´æ–°
âœ… é…ç½®æ–‡ä»¶å·²ä¼˜åŒ–
ğŸ”„ å‡†å¤‡å¼€å‘å’Œæµ‹è¯•
```

## ğŸ”— å‚è€ƒèµ„æº

- **nestjs-monorepoæ¨¡æ¿**: å‡çº§å‚è€ƒæ ‡å‡†
- **Expo SDK 53æ–‡æ¡£**: [å®˜æ–¹å‡çº§æŒ‡å—](https://docs.expo.dev/workflow/upgrading-expo-sdk-walkthrough/)
- **React 19æ–‡æ¡£**: [æ–°åŠŸèƒ½ä»‹ç»](https://react.dev/blog/2024/04/25/react-19)
- **æ–°æ¶æ„æŒ‡å—**: [å¯ç”¨æ–°æ¶æ„](https://docs.expo.dev/guides/new-architecture/)

---

**å‡çº§å®Œæˆæ—¶é—´**: 2025-01-29  
**å‡çº§ç‰ˆæœ¬**: Expo SDK 51 â†’ SDK 53  
**å‡çº§çŠ¶æ€**: âœ… æˆåŠŸå®Œæˆ  
**å‚è€ƒæ¨¡æ¿**: nestjs-monorepo  
**æŠ€æœ¯æ¶æ„**: React 19 + React Native 0.79.5 + æ–°æ¶æ„ 